import{a as q,b as i,c as A,d as N,e as T,f as b,g as P,h as M,i as D,j as V,k as z,l as G}from"./chunk-UFCEK7IO.js";import"./chunk-FYUA6VEJ.js";import{h as F}from"./chunk-D5TCBCYR.js";import"./chunk-GQTERM6L.js";import{$a as C,Ga as d,Q as h,Qa as v,Va as p,W as y,X as w,a as _,db as u,hb as t,ib as n,jb as c,mb as k,ob as S,pb as E,wb as o,xb as R,zb as x}from"./chunk-OG347QTQ.js";import"./chunk-4CLCTAJ7.js";function O(e,r){if(e&1&&(t(0,"div",1)(1,"span",15),o(2),n()()),e&2){let s=E();d(2),R(s.api_error)}}function I(e,r){e&1&&(t(0,"div",1)(1,"span",15),o(2,"Must be required !"),n()())}function $(e,r){e&1&&(t(0,"div",1)(1,"span",15),o(2,"Must be more than 2 chars !"),n()())}function Z(e,r){e&1&&(t(0,"div",1)(1,"span",15),o(2,"Must be less than 20 chars !"),n()())}function j(e,r){e&1&&(t(0,"div",1)(1,"span",15),o(2,"Must be required !"),n()())}function B(e,r){e&1&&(t(0,"div",1)(1,"span",15),o(2,"invaild email !"),n()())}function U(e,r){e&1&&(t(0,"div",1)(1,"span",15),o(2,"Must be required !"),n()())}function H(e,r){e&1&&(t(0,"div",1)(1,"span",15),o(2,"invaild password !"),n()())}function J(e,r){e&1&&(t(0,"div",1)(1,"span",15),o(2,"Must be required !"),n()())}function K(e,r){e&1&&(t(0,"div",1)(1,"span",15),o(2,"invalid !"),n()())}function Q(e,r){e&1&&(t(0,"div",1)(1,"span",15),o(2,"pass and repass not match !"),n()())}function W(e,r){e&1&&c(0,"i",14)}function X(e,r){e&1&&o(0,"Submit")}var L=class e{_AuthService=h(G);_Router=h(F);api_error;isCallingApi=!1;subscription=new _;registerForm;ngOnInit(){this.initForm()}initForm(){this.registerForm=new T({name:new b(null,[i.required,i.minLength(3),i.maxLength(20)]),email:new b(null,[i.required,i.email]),password:new b(null,[i.required,i.pattern(/^[A-Z]\w{5}$/)]),rePassword:new b(null,[i.required,i.pattern(/^[A-Z]\w{5}$/)]),phone:new b(null,[i.required,i.pattern(/^01[0125][0-9]{8}$/)])},this.validaterePassword)}validaterePassword(r){console.log(r);let s=r.get("password")?.value,a=r.get("rePassword")?.value;return s===a?null:{misMatch:!0}}register(){console.log(this.registerForm),this.registerForm.invalid?this.registerForm.markAllAsTouched():this.isCallingApi||(this.isCallingApi=!0,this.api_error="",this.subscription=this._AuthService.register(this.registerForm.value).subscribe({next:r=>{console.log(r),this.isCallingApi=!1,this._Router.navigateByUrl("/auth/login")},error:r=>{this.api_error=r.error.message,console.log(r),console.log(this.api_error),this.isCallingApi=!1},complete(){}}))}ngOnDestroy(){this.subscription.unsubscribe}static \u0275fac=function(s){return new(s||e)};static \u0275cmp=v({type:e,selectors:[["app-register"]],decls:39,vars:7,consts:[[1,"max-w-md","mx-auto","mt-4",3,"ngSubmit","formGroup"],["role","alert",1,"p-4","my-4","text-sm","text-red-800","rounded-lg","bg-red-50","dark:bg-gray-800","dark:text-red-400"],[1,"relative","z-0","w-full","mb-5","group"],["type","text","formControlName","name","name","floating_userName","id","floating_userName","placeholder"," ","required","",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-gray-300","appearance-none","dark:text-white","dark:border-gray-600","dark:focus:border-main","focus:outline-none","focus:ring-0","focus:border-main","peer"],["for","floating_userName",1,"peer-focus:font-medium","absolute","text-sm","text-gray-500","dark:text-gray-400","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:start-0","rtl:peer-focus:translate-x-1/4","rtl:peer-focus:left-auto","peer-focus:text-main","peer-focus:dark:text-main","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6"],["type","email","formControlName","email","name","floating_email","id","floating_email","placeholder"," ","required","",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-gray-300","appearance-none","dark:text-white","dark:border-gray-600","dark:focus:border-main","focus:outline-none","focus:ring-0","focus:border-main","peer"],["for","floating_email",1,"peer-focus:font-medium","absolute","text-sm","text-gray-500","dark:text-gray-400","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:start-0","rtl:peer-focus:translate-x-1/4","rtl:peer-focus:left-auto","peer-focus:text-main","peer-focus:dark:text-main","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6"],["type","password","formControlName","password","name","floating_password","id","floating_password","placeholder"," ","required","",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-gray-300","appearance-none","dark:text-white","dark:border-gray-600","dark:focus:border-main","focus:outline-none","focus:ring-0","focus:border-main","peer"],["for","floating_password",1,"peer-focus:font-medium","absolute","text-sm","text-gray-500","dark:text-gray-400","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:start-0","rtl:peer-focus:translate-x-1/4","rtl:peer-focus:left-auto","peer-focus:text-main","peer-focus:dark:text-main","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6"],["type","password","formControlName","rePassword","name","floating_rePassword","id","floating_rePassword","placeholder"," ","required","",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-gray-300","appearance-none","dark:text-white","dark:border-gray-600","dark:focus:border-main","focus:outline-none","focus:ring-0","focus:border-main","peer"],["for","floating_rePassword",1,"peer-focus:font-medium","absolute","text-sm","text-gray-500","dark:text-gray-400","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:start-0","rtl:peer-focus:translate-x-1/4","rtl:peer-focus:left-auto","peer-focus:text-main","peer-focus:dark:text-main","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6"],["type","tel","formControlName","phone","name","floating_phone","id","floating_phone","placeholder"," ","required","",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-gray-300","appearance-none","dark:text-white","dark:border-gray-600","dark:focus:border-main","focus:outline-none","focus:ring-0","focus:border-main","peer"],["for","floating_phone",1,"peer-focus:font-medium","absolute","text-sm","text-gray-500","dark:text-gray-400","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:start-0","rtl:peer-focus:translate-x-1/4","rtl:peer-focus:left-auto","peer-focus:text-main","peer-focus:dark:text-main","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6"],["type","submit",1,"text-white","bg-main","hover:bg-green-500","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg","text-sm","w-full","sm:w-full","px-5","py-2.5","text-center","dark:bg-blue-600","dark:hover:bg-blue-700","dark:focus:ring-blue-800"],[1,"fas","fa-spinner","fa-spin"],[1,"font-medium"]],template:function(s,a){if(s&1){let l=k();t(0,"form",0),S("ngSubmit",function(){return y(l),w(a.register())}),p(1,O,3,1,"div",1),t(2,"div",2),x(3),c(4,"input",3),t(5,"label",4),o(6,"userName"),n(),p(7,I,3,0,"div",1)(8,$,3,0,"div",1)(9,Z,3,0,"div",1),n(),t(10,"div",2),x(11),c(12,"input",5),t(13,"label",6),o(14,"email"),n(),p(15,j,3,0,"div",1)(16,B,3,0,"div",1),n(),t(17,"div",2),x(18),c(19,"input",7),t(20,"label",8),o(21,"password"),n(),p(22,U,3,0,"div",1)(23,H,3,0,"div",1),n(),t(24,"div",2),x(25),c(26,"input",9),t(27,"label",10),o(28,"rePassword"),n(),p(29,J,3,0,"div",1)(30,K,3,0,"div",1)(31,Q,3,0,"div",1),n(),t(32,"div",2),c(33,"input",11),t(34,"label",12),o(35,"Phone"),n()(),t(36,"button",13),p(37,W,1,0,"i",14)(38,X,1,0),n()()}if(s&2){C("formGroup",a.registerForm),d(),u(a.api_error?1:-1);let l=a.registerForm.get("name");d(6),u(l!=null&&l.getError("required")&&(l!=null&&l.touched)?7:l!=null&&l.getError("minlength")?8:l!=null&&l.getError("maxlength")?9:-1);let m=a.registerForm.get("email");d(8),u(m!=null&&m.getError("required")&&(m!=null&&m.touched)?15:m!=null&&m.getError("email")?16:-1);let f=a.registerForm.get("password");d(7),u(f!=null&&f.getError("required")&&(f!=null&&f.touched)?22:f!=null&&f.getError("pattern")?23:-1);let g=a.registerForm.get("rePassword");d(7),u(g!=null&&g.getError("required")&&(g!=null&&g.touched)?29:g!=null&&g.getError("pattern")?30:a.registerForm.getError("misMatch")?31:-1),d(8),u(a.isCallingApi?37:38)}},dependencies:[z,P,q,A,N,V,M,D],encapsulation:2})};export{L as RegisterComponent};
