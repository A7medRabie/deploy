import{a as E,b as F}from"./chunk-6EHCHUMM.js";import{a as D}from"./chunk-7YLV52A2.js";import{l as H}from"./chunk-LUCZ7EA4.js";import{a as V}from"./chunk-IJYG7NBV.js";import"./chunk-FYUA6VEJ.js";import"./chunk-D5TCBCYR.js";import{h as M,k as j,q as A}from"./chunk-GQTERM6L.js";import{$a as g,Bb as O,Ga as s,K as I,Q as a,Qa as p,W as P,X as w,Y as d,Z as C,eb as u,fb as f,gb as y,hb as n,ib as i,jb as c,mb as S,ob as h,pb as x,wb as l,xb as R}from"./chunk-OG347QTQ.js";import"./chunk-4CLCTAJ7.js";var B=r=>({"bg-red-700 text-white":r});function $(r,t){if(r&1){let e=S();n(0,"app-product-item",12),h("fireAddToCart",function(m){P(e);let k=x();return w(k.addToCart(m))}),i()}if(r&2){let e=t.$implicit,o=x();g("product",e)("isloading",o.isLoading)}}function G(r,t){if(r&1){let e=S();n(0,"li",13),h("click",function(){let m=P(e).$implicit,k=x();return w(k.page(m))}),n(1,"a",14),l(2),i()()}if(r&2){let e=t.$implicit,o=x();s(),g("ngClass",O(2,B,o.currentpage===e)),s(),R(e)}}var b=class r{_ProductService=a(E);_CartService=a(D);_toaster=a(H);products={};isLoading=!1;totalPages=0;num=1;currentpage=0;ngOnInit(){this.getProducts(this.num)}getProducts(t){this._ProductService.getProduct({limit:5,page:t}).subscribe({next:e=>{this.products=e,this.totalPages=e.metadata.numberOfPages,this.currentpage=e.metadata.currentPage,console.log(e)},error(e){console.log(e)},complete(){console.log("done")}})}addToCart(t){this.isLoading=!0,this._CartService.addProductToCart(t).subscribe({next:e=>{console.log(e),this._toaster.success(e.message,"Toastr fun!"),this.isLoading=!1}})}get numberOfPages(){return Array.from({length:this.totalPages},(t,e)=>e+1)}page(t){this.getProducts(t)}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=p({type:r,selectors:[["app-recent-products"]],decls:21,vars:2,consts:[[1,"bg-white"],[1,"mx-auto","max-w-2xl","px-4","py-16","sm:px-6","sm:py-24","lg:max-w-7xl","lg:px-8"],[1,"mt-6","grid","grid-cols-1","gap-x-6","gap-y-10","sm:grid-cols-2","lg:grid-cols-4","xl:gap-x-8"],[3,"product","isloading"],["aria-label","Page navigation example"],[1,"flex","items-center","-space-x-px","h-10","text-base"],[1,"flex","items-center","justify-center","px-4","h-10","ms-0","leading-tight","text-gray-500","bg-white","border","border-e-0","border-gray-300","rounded-s-lg","hover:bg-gray-100","hover:text-gray-700","dark:bg-gray-800","dark:border-gray-700","dark:text-gray-400","dark:hover:bg-gray-700","dark:hover:text-white",3,"click","disabled"],[1,"sr-only"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 6 10",1,"w-3","h-3","rtl:rotate-180"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 1 1 5l4 4"],[1,"flex","items-center","justify-center","px-4","h-10","leading-tight","text-gray-500","bg-white","border","border-gray-300","rounded-e-lg","hover:bg-gray-100","hover:text-gray-700","dark:bg-gray-800","dark:border-gray-700","dark:text-gray-400","dark:hover:bg-gray-700","dark:hover:text-white",3,"click","disabled"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 9 4-4-4-4"],[3,"fireAddToCart","product","isloading"],[3,"click"],[1,"cursor-pointer","flex","items-center","justify-center","px-4","h-10","leading-tight","text-gray-500","border","border-gray-300","hover:bg-gray-100","hover:text-gray-700","dark:bg-gray-800","dark:border-gray-700","dark:text-gray-400","dark:hover:bg-gray-700","dark:hover:text-white",3,"ngClass"]],template:function(e,o){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2),f(3,$,1,2,"app-product-item",3,u),i()(),n(5,"nav",4)(6,"ul",5)(7,"li")(8,"button",6),h("click",function(){return o.page(o.currentpage-1)}),n(9,"span",7),l(10,"Previous"),i(),d(),n(11,"svg",8),c(12,"path",9),i()()(),f(13,G,3,4,"li",null,u),C(),n(15,"li")(16,"button",10),h("click",function(){return o.page(o.currentpage+1)}),n(17,"span",7),l(18,"Next"),i(),d(),n(19,"svg",8),c(20,"path",11),i()()()()()()),e&2&&(s(3),y(o.products.data),s(5),g("disabled",o.currentpage==1),s(5),y(o.numberOfPages),s(3),g("disabled",o.currentpage==o.numberOfPages.length))},dependencies:[F,j,M],encapsulation:2})};var v=class r{_HttpClient=a(A);_url=a(V);constructor(){}getCategories(){return this._HttpClient.get(`${this._url}/categories?limit=2`)}static \u0275fac=function(e){return new(e||r)};static \u0275prov=I({token:r,factory:r.\u0275fac,providedIn:"root"})};function U(r,t){r&1&&(n(0,"a",1),d(),n(1,"svg",2),c(2,"path",3),i(),C(),n(3,"span",4),l(4,"item title"),i()())}var _=class r{_CategoryService=a(v);categories=[];ngOnInit(){this.getProducts()}getProducts(){this._CategoryService.getCategories().subscribe({next:t=>{this.categories=t.data,console.log(t)},error(t){console.log(t)},complete(){console.log("done")}})}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=p({type:r,selectors:[["app-popular-category"]],decls:3,vars:0,consts:[[1,"grid","gap-4","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","mx-auto","max-w-2xl","px-4","py-16","sm:px-6","sm:py-24","lg:max-w-7xl","lg:px-8"],["href","#",1,"flex","items-center","rounded-lg","border","border-gray-200","bg-white","px-4","py-2","hover:bg-gray-50","dark:border-gray-700","dark:bg-gray-800","dark:hover:bg-gray-700"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","viewBox","0 0 24 24",1,"me-2","h-4","w-4","shrink-0","text-gray-900","dark:text-white"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 15v5m-3 0h6M4 11h16M5 15h14a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v9a1 1 0 0 0 1 1Z"],[1,"text-sm","font-medium","text-gray-900","dark:text-white"]],template:function(e,o){e&1&&(n(0,"div",0),f(1,U,5,0,"a",1,u),i()),e&2&&(s(),y(o.categories))},encapsulation:2})};var N=class r{ngOnInit(){}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=p({type:r,selectors:[["app-home"]],decls:2,vars:0,template:function(e,o){e&1&&c(0,"app-popular-category")(1,"app-recent-products")},dependencies:[b,_],encapsulation:2})};export{N as HomeComponent};
